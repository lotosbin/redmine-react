(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,n){},207:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},208:function(e,t,n){e.exports={app_bar:"IssueDialog_app_bar__s-93q"}},5504:function(e,t,n){e.exports=n(5658)},5656:function(e,t,n){},5658:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(13),o=n(24),l=n.n(o),c=n(31),s=(n(5513),n(215)),u={isAuthenticated:function(){return localStorage.getItem("api_host")&&localStorage.getItem("api_key")},authenticate:function(e,t,n){localStorage.setItem("api_host",e),localStorage.setItem("api_key",t),setTimeout(n,100)},signout:function(e){localStorage.removeItem("api_host"),localStorage.removeItem("api_key"),setTimeout(e,100)},getAuth:function(){return{api_host:localStorage.getItem("api_host"),api_key:localStorage.getItem("api_key")}}},d=new s.a({uri:"".concat("http://118.190.32.118:32768/graphql"),headers:function(){var e=u.getAuth();return{"X-Redmine-API-Host":e.api_host,"X-Redmine-API-Key":e.api_key}}()}),p=n(3),f=n(4),m=n(6),h=n(5),v=n(7),y=n(104),b=n.n(y),g=n(59),j=n.n(g),E=n(16),O=n(107),_=n.n(O),k=n(83),w=n.n(k),x=n(5668),C=n(5667),S=n(5669),I=(n(166),n(17)),D=n(14),F=n.n(D),Y=n(203),T=n(116),N=n(204),R=n(111),$=n(113),q=n(151),A=n.n(q),L=n(51),W=n(38),M=n.n(W);function P(){var e=Object(I.a)(["\n    mutation TaskUpdate($issue_id: String!,$start_date:String!,$due_date:String!) {\n        task_update(issue_id: $issue_id,start_date:$start_date,due_date:$due_date) {\n            id\n            subject\n            start_date\n            due_date\n        }\n    }\n"]);return P=function(){return e},e}var B=F()(P()),H=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data||{},n=t.id,a=void 0===n?"":n,o=t.subject,l=void 0===o?"":o,c=t.assigned_to_name,s=void 0===c?"":c,d=t.start_date,p=void 0===d?"":d,f=t.due_date,m=void 0===f?"":f,h=u.getAuth().api_host;return r.a.createElement("div",{style:{width:200,display:"flex",flexDirection:"column",alignItems:"start",alignContent:"start"}},r.a.createElement("div",null," id:",a),r.a.createElement("div",null,l),r.a.createElement("div",null,s),r.a.createElement("div",null,p),r.a.createElement("div",null,m),r.a.createElement("a",{target:"_blank",href:"".concat(h,"/issues/").concat(a)},"Open External"),r.a.createElement(i.Mutation,{mutation:B},function(t,n){n.data;return r.a.createElement(L.a,{onClick:function(n){e.onClickDelay({e:n,task_update:t,amount:1,unit:"d"})}},"delay 1 day")}),r.a.createElement(i.Mutation,{mutation:B},function(t,n){n.data;return r.a.createElement(L.a,{onClick:function(n){e.onClickDelay({e:n,task_update:t,amount:2,unit:"d"})}},"delay 2 day")}),r.a.createElement(i.Mutation,{mutation:B},function(t,n){n.data;return r.a.createElement(L.a,{onClick:function(n){e.onClickDelay({e:n,task_update:t,amount:3,unit:"d"})}},"delay 3 day")}),r.a.createElement(i.Mutation,{mutation:B},function(t,n){n.data;return r.a.createElement(L.a,{onClick:function(n){e.onClickDelay({e:n,task_update:t,amount:4,unit:"d"})}},"delay 4 day")}),r.a.createElement(i.Mutation,{mutation:B},function(t,n){n.data;return r.a.createElement(L.a,{onClick:function(n){e.onClickDelay({e:n,task_update:t,amount:5,unit:"d"})}},"delay 5 day")}),r.a.createElement(i.Mutation,{mutation:B},function(t,n){n.data;return r.a.createElement(L.a,{onClick:function(n){e.onClickReAdd(n,t)}},"ReAdd")}))}},{key:"onClickDelay",value:function(e){var t=e.e,n=e.task_update,a=e.amount,r=e.unit;t.preventDefault();var i=this.props.data||{},o=i.id,l=void 0===o?"":o,c=i.start_date,s=void 0===c?"":c,u=i.due_date,d=void 0===u?"":u;n({variables:{issue_id:l,start_date:M()(s).add(a,r).format("YYYY-MM-DD"),due_date:M()(d).add(a,r).format("YYYY-MM-DD")}})}},{key:"onClickReAdd",value:function(e,t){var n=this.props.data||{},a=n.id,r=void 0===a?"":a,i=n.start_date,o=void 0===i?"":i,l=n.due_date,c=void 0===l?"":l,s=M()(c).diff(M()(o),"h"),u=this.props.issues||[];if(u.length>0){var d=u.map(function(e){return e.start_date}).reduce(function(e,t){return null!=e&&e>t?e:t},null);t({variables:{issue_id:r,start_date:M()(d).format("YYYY-MM-DD"),due_date:M()(d).add(s,"h").format("YYYY-MM-DD")}})}}}]),t}(a.Component),Q=n(20),U=n(35),J=n.n(U),z=n(39),G=n.n(z),X=n(40),K=n.n(X),V=n(109),Z=n.n(V),ee=n(45),te=n.n(ee),ne=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={checked:[]},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"onDragOver",value:function(e){e.e.preventDefault()}},{key:"onDrop",value:function(e){var t=e.e,n=e.status,a=JSON.parse(t.dataTransfer.getData("issue"));this.props.onDrop&&this.props.onDrop(a,n)}},{key:"onDragStart",value:function(e){var t=e.e,n=e.data;t.dataTransfer.setData("issue",JSON.stringify(n))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.data,i=void 0===a?[]:a,o=t.status,l=t.onClickItem,c=t.selectIssueId;return r.a.createElement("div",{className:n.root,onDragOver:function(t){return e.onDragOver({e:t})},onDrop:function(t){return e.onDrop({e:t,status:o})}},r.a.createElement(J.a,{style:{flex:1,overflowY:"scroll",minHeight:"300px"}},i.map(function(t){var a=t.id,i=t.subject,o=t.assigned_to,s=o.name,u=o.mail,d=t.project.name;return r.a.createElement(G.a,{key:a,role:void 0,dense:!0,button:!0,draggable:!0,onDragStart:function(n){return e.onDragStart({e:n,data:t})},className:n.listItem,onClick:function(e){return l(t)}},r.a.createElement(te.a,{checked:a==c,tabIndex:-1,disableRipple:!0}),r.a.createElement(K.a,{primary:"".concat(i),secondary:"".concat(s)},r.a.createElement("h1",null,d),r.a.createElement("p",null,a,":",i)),r.a.createElement(Q.d,null,r.a.createElement(Z.a,{email:u})))})))}}]),t}(r.a.Component),ae=Object(E.withStyles)(function(e){return{root:{height:"100%",width:300,flex:0,flexShrink:0,flexBasis:300,backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column"},listItem:{}}})(ne);function re(){var e=Object(I.a)(["query Agile($assigned_to_id:String,$project_id:String) {\n    issues(project_id:$project_id,assigned_to_id:$assigned_to_id,limit:500){\n        id\n        assigned_to_name\n        assigned_to{\n            id\n            name:login\n            mail\n        }\n        subject\n        start_date\n        due_date\n        relations{\n            relation_type\n            issue_to_id\n        }\n        status{\n            id\n        }\n        project{\n            id\n            name\n        }\n    }\n}\n"]);return re=function(){return e},e}function ie(){var e=Object(I.a)(["\n    mutation TaskUpdate($issue_id: String!,$status_id:String!) {\n        task_update(issue_id: $issue_id,status_id:$status_id) {\n            id\n        }\n    }\n"]);return ie=function(){return e},e}var oe=F()(ie()),le=F()(re()),ce=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={checked:[]},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"onClickItem",value:function(e,t){this.props.onClickItem&&this.props.onClickItem(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.project_id,a=t.classes,o=t.status,l=t.assigned_to_id,c=t.onClickItem,s=t.selectIssueId,u=this.props.status_id;return console.log("AgileColumn:assigned_to_id=".concat(l)),o&&(u=o.id),r.a.createElement("div",{className:a.root},r.a.createElement("h1",{style:{width:300},key:u},o.name),r.a.createElement("div",{style:{minHeight:0,overflowY:"scroll"}},r.a.createElement(i.Query,{query:le,variables:{project_id:n,assigned_to_id:l}},function(t){var n=t.loading,a=t.error,l=t.data;if(n)return r.a.createElement("p",null,"Loading...");if(a)return r.a.createElement("p",null,"Error :(");var d=(l.issues||[]).filter(function(t){return e.filterStatus(u)(t)});return r.a.createElement(i.Mutation,{mutation:oe},function(e,t){t.data;return r.a.createElement(ae,{selectIssueId:s,status:o,data:d,onClickItem:c,onDrop:function(t,n){console.log("onDrop:".concat(JSON.stringify(t),",").concat(JSON.stringify(n)));var a={issue_id:t.id,status_id:n.id};e({variables:a})}})})})))}},{key:"filterStatus",value:function(e){return!e||function(t){return(t.status||{}).id===e}}}]),t}(r.a.Component),se=Object(E.withStyles)(function(e){return{root:{height:"100%",width:300,flex:0,flexShrink:0,flexBasis:300,backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column",minHeight:0},listItem:{}}})(ce),ue=n(36),de=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={checked:[]},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"handleToggle",value:function(e){var t=this;return function(){var n=e.id,a=t.state.checked,r=a.indexOf(n),i=Object(ue.a)(a);if(-1===r?("single"===t.props.mode&&(i=[]),i.push(n)):i.splice(r,1),t.setState({checked:i}),t.props.onFilter){var o=t.props.data.filter(function(e){return i.indexOf(e.id)>=0});t.props.onFilter(o)}}}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(J.a,null,this.props.data.map(function(n){var a=n.id,i=n.name,o=n.mail;return r.a.createElement(G.a,{key:a,role:void 0,dense:!0,button:!0,onClick:e.handleToggle(n),className:t.listItem},r.a.createElement(Z.a,{email:o}),r.a.createElement(te.a,{checked:-1!==e.state.checked.indexOf(a),tabIndex:-1,disableRipple:!0}),r.a.createElement(K.a,{primary:"".concat(i)}))})))}}]),t}(r.a.Component),pe=Object(E.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,overflowY:"scroll",width:250},listItem:{}}})(de);function fe(){var e=Object(I.a)(["\n          query Status {\n            users (limit:1000){\n              id\n              name:firstname\n              mail\n            }\n          }\n        "]);return fe=function(){return e},e}var me=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",flex:"0 0 250px",overflowY:"scroll",minHeight:0}},r.a.createElement(i.Query,{query:F()(fe())},function(t){var n=t.loading,a=t.error,i=t.data;if(n)return r.a.createElement("p",null,"Loading...");if(a)return r.a.createElement("p",null,"Error :(");var o=i.users;return r.a.createElement(pe,{mode:"single",data:o||[],onFilter:e.props.onFilter.bind(e)})}))}}]),t}(r.a.Component),he=Object(E.withStyles)(function(e){return{root:{width:"100%",maxWidth:200,backgroundColor:e.palette.background.paper,overflowY:"scroll"},listItem:{}}})(me);function ve(){var e=Object(I.a)(["\n          query Status {\n            issue_statuses {\n              id\n              name\n            }\n          }\n        "]);return ve=function(){return e},e}function ye(e){return r.a.createElement(R.a,Object.assign({direction:"up"},e))}var be=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleClose=function(){n.setState({issue:null})},n.state={filter:null,issue:null},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"onFilter",value:function(e){console.log("onFilter:".concat(JSON.stringify(e))),e&&e.length?this.setState({filter:e[0].id}):this.setState({filter:null})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.match,t.classes);return r.a.createElement("div",{style:{flex:1,width:"100%",height:"100%",display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row"}},r.a.createElement(he,{onFilter:function(t){return e.onFilter(t)}}),r.a.createElement("div",{style:{flex:1,minWidth:0}},r.a.createElement("div",{style:{width:"100%",height:"100%",overflowX:"scroll"}},r.a.createElement(i.Query,{query:F()(ve())},function(t){var n=t.loading,a=t.error,i=t.data;if(n)return r.a.createElement("p",null,"Loading...");if(a)return r.a.createElement("p",null,"Error :(");var o=i.issue_statuses;return r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement("div",{style:{width:"100%",height:"100%",overflowY:"scroll",display:"flex",flexDirection:"row",justifyContent:"space-between"}},o.map(function(t){return r.a.createElement(se,{assigned_to_id:e.state.filter,status:t,key:t.id,data:[],onClickItem:function(t){return e.setState({issue:t})}})})))})))),r.a.createElement(T.a,{fullScreen:!0,open:!!this.state.issue,onClose:this.handleClose,TransitionComponent:ye},r.a.createElement(Y.a,{className:n.appBar},r.a.createElement($.a,null,r.a.createElement(N.a,{color:"inherit",onClick:this.handleClose,"aria-label":"Close"},r.a.createElement(A.a,null)))),r.a.createElement(H,{data:this.state.issue})))}}]),t}(a.Component),ge=Object(E.withStyles)({appBar:{position:"relative"},flex:{flex:1}})(be),je=n(60),Ee=n(22),Oe=n(46),_e=n.n(Oe),ke=n(205);var we=[{type:"string",label:"Task ID"},{type:"string",label:"Task Name"},{type:"string",label:"Resource"},{type:"date",label:"Start Date"},{type:"date",label:"End Date"},{type:"number",label:"Duration"},{type:"number",label:"Percent Complete"},{type:"string",label:"Dependencies"}],xe=function(e){function t(e){var n;Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).rows=[];var a=n.props.onSelect,r=Object(Ee.a)(Object(Ee.a)(n));n.chartEvents=[{eventName:"select",callback:function(e){if(a){var t=e.chartWrapper.getChart().getSelection()[0],n=r.rows[t.row][0];a(_e.a.find(r.props.data,function(e){return e.id===n}))}}}];var i=n.dataToRows();return n.rows=i,n.state={data:[we].concat(Object(ue.a)(i))},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){var n=this.dataToRows(e.data);this.rows=n,this.state={data:[we].concat(Object(ue.a)(n))}}},{key:"dataToRows",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.data,t=e.filter(function(e){return!!e.start_date}),n=e.filter(function(e){return!e.start_date}),a=0;a<n.length;a++){var r=(_e.a.maxBy(t,function(e){return M()(e.start_date).toDate()})||{start_date:M()(Date()).toString()}).start_date,i=n[a];i.start_date=M()(r).add(1,"d").toString(),t.push(i)}return t.forEach(function(e){e.due_date||(e.due_date=M()(e.start_date).add(5,"d").toString())}),function(e){return e.map(function(e){var t=M()(e.start_date).toDate()||new Date(2015,0,1),n=M()(e.due_date).toDate()||M()(t).add(1,"d").toDate(),a=e.id;return e.relations&&e.relations.length&&(e.relations||[]).filter(function(e){return e.issue_to_id!==a}).map(function(e){return e.issue_to_id}).join(","),["".concat(e.id),e.subject,e.assigned_to_name,t,n,null,100,null]})}(_e.a.orderBy(t,["start_date"]))}},{key:"render",value:function(){return r.a.createElement(ke.a,{ref:"chart",chartType:"Gantt",data:this.state.data,width:"100%",height:"100%",options:{height:2e3},chartEvents:this.chartEvents,legendToggle:!0})}}]),t}(a.Component),Ce=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={checked:[]},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"handleToggle",value:function(e){var t=this;return function(){var n=e.id,a=t.state.checked,r=a.indexOf(n),i=Object(ue.a)(a);if(-1===r?("single"===t.props.mode&&(i=[]),i.push(n)):i.splice(r,1),t.setState({checked:i}),t.props.onFilter){var o=t.props.data.filter(function(e){return i.indexOf(e.id)>=0});t.props.onFilter(o)}}}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(J.a,null,this.props.data.map(function(n){var a=n.id,i=n.name;return r.a.createElement(G.a,{key:a,role:void 0,dense:!0,button:!0,onClick:e.handleToggle(n),className:t.listItem},r.a.createElement(te.a,{checked:-1!==e.state.checked.indexOf(a),tabIndex:-1,disableRipple:!0}),r.a.createElement(K.a,{primary:"".concat(i)}))})))}}]),t}(r.a.Component),Se=Object(E.withStyles)(function(e){return{root:{width:250,backgroundColor:e.palette.background.paper,overflowY:"scroll"},listItem:{}}})(Ce);function Ie(){var e=Object(I.a)(["\n    query Status {\n        issue_statuses {\n            id\n            name\n        }\n    }\n"]);return Ie=function(){return e},e}var De=F()(Ie()),Fe=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",flex:"0 0 250px",overflowY:"scroll",minHeight:0}},r.a.createElement(i.Query,{query:De},function(t){var n=t.loading,a=t.error,i=t.data;if(n)return r.a.createElement("p",null,"Loading...");if(a)return r.a.createElement("p",null,"Error :(");var o=i.issue_statuses;return r.a.createElement(Se,{mode:"single",data:o||[],onFilter:e.props.onFilter.bind(e)})}))}}]),t}(r.a.Component),Ye=Object(E.withStyles)(function(e){return{root:{width:"100%",maxWidth:200,backgroundColor:e.palette.background.paper,overflowY:"scroll"},listItem:{}}})(Fe);function Te(){var e=Object(I.a)(["query Issues($assigned_to_id:String) {\n    issues(assigned_to_id:$assigned_to_id,limit:500){\n        id\n        assigned_to_name\n        subject\n        start_date\n        due_date\n        relations{\n            relation_type\n            issue_to_id\n        }\n        status{\n            id\n            name\n        }\n    }\n}\n        "]);return Te=function(){return e},e}var Ne=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={filter:[],status:[],data:[],issue:{}},n.data=[],n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;this.props.match;return r.a.createElement("div",{style:{flex:1,display:"flex"}},r.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"row"}},r.a.createElement(he,{onFilter:function(t){return e.onFilter(t)}}),r.a.createElement(Ye,{onFilter:function(t){return e.onStatusFilter(t)}}),r.a.createElement(i.Query,{query:F()(Te()),variables:{assigned_to_id:(this.state.filter||{}).id}},function(t){var n=t.loading,a=t.error,i=t.data;if(n)return r.a.createElement("p",null,"Loading...");if(a)return r.a.createElement("p",null,"Error :(");var o=(e.state.status||{}).id,l=(i.issues||[]).filter(function(e){return!o||e.status.id===o}).map(function(e){return Object(je.a)({},e,{subject:"".concat(e.subject,"[").concat((e.status||{}).name,"]")})});return e.data=l,r.a.createElement("div",{style:{height:"100%",overflowY:"scroll",flex:1}},r.a.createElement(xe,{data:l,onSelect:function(t){return e.onSelect(t)}}))}),r.a.createElement(H,{data:this.state.issue})))}},{key:"onSelect",value:function(e){var t=this.data[e[0].row];this.setState({issue:t})}},{key:"onFilter",value:function(e){e&&e.length>0?this.setState({filter:e[0]}):this.setState({filter:null}),this.forceUpdate()}},{key:"onStatusFilter",value:function(e){e&&e.length>0?this.setState({status:e[0]}):this.setState({status:null}),this.forceUpdate()}}]),t}(a.Component);n(207);function Re(){var e=Object(I.a)(["\n          query Issue($id: String!) {\n              issues:tasks(issue_id:$id){\n                id\n                assigned_to_name\n                subject\n                start_date\n                due_date\n                relations{\n                    relation_type\n                    issue_to_id\n                }\n              }\n          }\n        "]);return Re=function(){return e},e}var $e=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.match;return r.a.createElement("div",null,r.a.createElement(i.Query,{query:F()(Re()),variables:{id:e.params.id}},function(e){var n=e.loading,a=e.error,i=e.data;if(n)return r.a.createElement("p",null,"Loading...");if(a)return r.a.createElement("p",null,"Error :(");var o=i.issues[0];return r.a.createElement(t,{data:o})}))}}]),t}(a.Component),qe=n(85),Ae=n.n(qe),Le=Object(E.withStyles)({card_container:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",overflowY:"scroll",minHeight:0,height:"100%"}})(function(e){var t=e.classes,n=e.data,a=e.selectIssueId;return r.a.createElement("div",{className:t.card_container},r.a.createElement(J.a,{component:"nav"},n.length>0?n.map(function(t){return r.a.createElement(G.a,{key:t.id,button:!0,onClick:function(){return e.onClickItem(t)},selected:!0},r.a.createElement(te.a,{checked:t.id==a,tabIndex:-1,disableRipple:!0}),r.a.createElement(Ae.a,{label:t.project.name}),r.a.createElement(K.a,{primary:"".concat(t.id,":").concat(t.subject)}),r.a.createElement(Ae.a,{label:t.assigned_to_name}))}):r.a.createElement("div",null,"No Data")))}),We=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={checked:[]},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"handleToggle",value:function(e){var t=this;return function(){var n=e.id,a=t.state.checked,r=a.indexOf(n),i=Object(ue.a)(a);if(-1===r?("single"===t.props.mode&&(i=[]),i.push(n)):i.splice(r,1),t.setState({checked:i}),t.props.onFilter){var o=t.props.data.filter(function(e){return i.indexOf(e.id)>=0});t.props.onFilter(o)}}}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(J.a,null,this.props.data.map(function(n){return r.a.createElement(G.a,{key:n.id,role:void 0,dense:!0,button:!0,onClick:e.handleToggle({id:n.id}),className:t.listItem},r.a.createElement(te.a,{checked:-1!==e.state.checked.indexOf(n.id),tabIndex:-1,disableRipple:!0}),r.a.createElement(K.a,{primary:"".concat(n.name)}))})))}}]),t}(r.a.Component),Me=Object(E.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,overflowY:"scroll",width:250},listItem:{}}})(We);function Pe(){var e=Object(I.a)(["query Status {\n    projects (limit:1000){\n        id\n        name:name\n    }\n} "]);return Pe=function(){return e},e}var Be=F()(Pe()),He=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",flex:"0 0 250px",overflowY:"scroll",minHeight:0}},r.a.createElement(i.Query,{query:Be},function(t){var n=t.loading,a=t.error,i=t.data;return n?r.a.createElement("p",null,"Loading..."):a?r.a.createElement("p",null,"Error :("):r.a.createElement(Me,{mode:"single",data:i.projects||[],onFilter:function(t){return e.onFilter(t)}})}))}},{key:"onFilter",value:function(e){console.log("dispath"),this.props.recent_project(e[0]),this.props.onFilter(e)}}]),t}(r.a.Component),Qe=Object(c.b)(function(e){return{}},function(e){return{recent_project:function(t){e({type:"RECENT_PROJECT",payload:t})}}})(Object(E.withStyles)(function(e){return{root:{width:"100%",height:"80%",maxWidth:200,backgroundColor:e.palette.background.paper,overflowY:"scroll"},listItem:{}}})(He)),Ue=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",flex:"0 0 250px",overflowY:"scroll",minHeight:0}},r.a.createElement(Me,{mode:"single",data:this.props.projects,onFilter:function(t){return e.onFilter(t)}}))}},{key:"onFilter",value:function(e){this.props.recent_project(e[0]),this.props.onFilter(e)}}]),t}(r.a.Component),Je=Object(c.b)(function(e){return{projects:e.recentProject.recent_project_list}},function(e){return{recent_project:function(t){e({type:"RECENT_PROJECT",payload:t})}}})(Object(E.withStyles)(function(e){return{root:{width:"100%",height:"20%",maxWidth:200,backgroundColor:e.palette.background.paper,overflowY:"scroll"},listItem:{}}})(Ue)),ze=n(106),Ge=n.n(ze),Xe=n(208),Ke=n.n(Xe);function Ve(e){return r.a.createElement(R.a,Object.assign({direction:"up"},e))}var Ze=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleClose=function(){var e=n.props.onClose;n.setState({issue:null}),e&&e()},n.state={issue:e.data},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){this.setState({issue:e.data})}},{key:"show",value:function(e){this.setState({issue:e})}},{key:"render",value:function(){return r.a.createElement(T.a,{fullScreen:!0,open:!!this.state.issue,onClose:this.handleClose,TransitionComponent:Ve},r.a.createElement(Q.a,{className:Ke.a.app_bar},r.a.createElement($.a,null,r.a.createElement(Q.c,{color:"inherit",onClick:this.handleClose,"aria-label":"Close"},r.a.createElement(Ge.a,null)))),r.a.createElement(H,{data:this.state.issue}))}}]),t}(a.Component);function et(){var e=Object(I.a)(["query IssuesGantt($id: String,$assigned_to_id:String) {\n    projects(id:$id,limit:1000) {\n        id\n        name\n        description\n        issues(assigned_to_id:$assigned_to_id){\n            id\n            assigned_to_name\n            subject\n            start_date\n            due_date\n            relations{\n                relation_type\n                issue_to_id\n            }\n            status{\n                id\n            }\n        }\n    }\n}"]);return et=function(){return e},e}var tt=F()(et()),nt=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.statusId,n=e.memberId,a=e.projectId,o=e.onClickItem;return r.a.createElement(i.Query,{query:tt,variables:{id:a,assigned_to_id:n}},function(e){var n=e.loading,a=e.error,i=e.data;if(n)return r.a.createElement("p",null,"Loading...");if(a)return r.a.createElement("p",null,"Error :(");var l=i.projects[0].issues;return t&&(l=l.filter(function(e){return e.status&&t===e.status.id})),r.a.createElement(xe,{data:l,onSelect:function(e){return o(e)}})})}}]),t}(a.Component),at=n(37),rt=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",flex:"0 0 250px",overflowY:"scroll",minHeight:0}},r.a.createElement(pe,{mode:"single",data:this.props.data,onFilter:this.props.onFilter.bind(this)}))}}]),t}(r.a.Component),it=Object(c.b)(function(e){return{data:e.recentMember.list}})(Object(E.withStyles)(function(e){return{root:{width:"100%",maxWidth:200,backgroundColor:e.palette.background.paper,overflowY:"scroll"},listItem:{}}})(rt)),ot=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={value:1},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"handleChange",value:function(e,t){this.setState({value:t})}},{key:"render",value:function(){var e=this,t=this.state.value;return r.a.createElement("div",{style:{display:"flex",flex:"0 0 250px",flexDirection:"column"}},r.a.createElement("div",{style:{width:"250px"}},r.a.createElement(Q.f,{value:t,onChange:this.handleChange.bind(this),fullWidth:!0},r.a.createElement(Q.e,{icon:r.a.createElement(at.c,null)}),r.a.createElement(Q.e,{icon:r.a.createElement(at.a,null)}))),r.a.createElement("div",{style:{display:"flex",flex:"1 0 250px",overflowY:"scroll"}},0===t&&r.a.createElement(he,{onFilter:function(t){return e.onFilter(t)}}),1===t&&r.a.createElement(it,{onFilter:function(t){return e.onFilter(t)}})))}},{key:"onFilter",value:function(e){return this.props.recentMember(e[0]),this.props.onFilter(e)}}]),t}(a.Component),lt=Object(c.b)(function(e){return{}},function(e){return{recentMember:function(t){e({type:"RECENT_MEMBER",payload:t})}}})(ot),ct=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={value:1},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"handleChange",value:function(e,t){this.setState({value:t})}},{key:"render",value:function(){var e=this,t=this.state.value;return r.a.createElement("div",{style:{display:"flex",flex:"0 0 250px",flexDirection:"column"}},r.a.createElement("div",{style:{width:"250px"}},r.a.createElement(Q.f,{value:t,onChange:this.handleChange.bind(this),fullWidth:!0},r.a.createElement(Q.e,{icon:r.a.createElement(at.c,null)}),r.a.createElement(Q.e,{icon:r.a.createElement(at.a,null)}))),r.a.createElement("div",{style:{display:"flex",flex:"1 0 250px",overflowY:"scroll"}},0===t&&r.a.createElement(Qe,{onFilter:function(t){return e.onFilter(t)}}),1===t&&r.a.createElement(Je,{onFilter:function(t){return e.onFilter(t)}})))}},{key:"onFilter",value:function(e){return this.props.recentMember(e[0]),this.props.onFilter(e)}}]),t}(a.Component),st=Object(c.b)(function(e){return{}},function(e){return{recentMember:function(t){e({type:"RECENT_PROJECT",payload:t})}}})(ct),ut=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",flex:"0 0 250px",overflowY:"scroll",minHeight:0}},r.a.createElement(Se,{mode:"single",data:this.props.data,onFilter:this.props.onFilter.bind(this)}))}}]),t}(r.a.Component),dt=Object(c.b)(function(e){return{data:e.recentStatus.list}},function(e){return{recent_project:function(t){e({type:"RECENT_STATUS",payload:t})}}})(Object(E.withStyles)(function(e){return{root:{width:"100%",maxWidth:200,backgroundColor:e.palette.background.paper,overflowY:"scroll"},listItem:{}}})(ut)),pt=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={value:1},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"handleChange",value:function(e,t){this.setState({value:t})}},{key:"render",value:function(){var e=this,t=this.state.value;return r.a.createElement("div",{style:{display:"flex",flex:"0 0 250px",flexDirection:"column"}},r.a.createElement("div",{style:{width:"250px"}},r.a.createElement(Q.f,{value:t,onChange:this.handleChange.bind(this),fullWidth:!0},r.a.createElement(Q.e,{icon:r.a.createElement(at.c,null)}),r.a.createElement(Q.e,{icon:r.a.createElement(at.a,null)}))),r.a.createElement("div",{style:{display:"flex",flex:"1 0 250px",overflowY:"scroll"}},0===t&&r.a.createElement(Ye,{onFilter:function(t){return e.onFilter(t)}}),1===t&&r.a.createElement(dt,{onFilter:function(t){return e.onFilter(t)}})))}},{key:"onFilter",value:function(e){return this.props.recentStatus(e[0]),this.props.onFilter(e)}}]),t}(a.Component),ft=Object(c.b)(function(e){return{}},function(e){return{recentStatus:function(t){e({type:"RECENT_STATUS",payload:t})}}})(pt);function mt(){var e=Object(I.a)(["\n    query Status {\n        issue_statuses {\n            id\n            name\n        }\n    }\n"]);return mt=function(){return e},e}var ht=F()(mt()),vt=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={issue:null},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"onSelect",value:function(e){this.setState({issue:e})}},{key:"render",value:function(){var e=this.props,t=(e.statusId,e.memberId),n=e.projectId,a=e.onClickItem,o=e.selectIssueId;return r.a.createElement(i.Query,{query:ht},function(e){var i=e.loading,l=e.error,c=e.data;if(i)return r.a.createElement("p",null,"Loading...");if(l)return r.a.createElement("p",null,"Error :(");var s=c.issue_statuses;return r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement("div",{style:{width:"100%",height:"100%",overflowY:"scroll",display:"flex",flexDirection:"row",justifyContent:"space-between"}},s.map(function(e){return r.a.createElement(se,{selectIssueId:o,project_id:n,assigned_to_id:t,status:e,key:e.id,data:[],onClickItem:function(e){return a(e)}})})))})}}]),t}(a.Component);vt.defaultProps={};var yt=Object(c.b)(function(e){return{selectIssueId:e.viewSelect}})(Object(E.withStyles)({card_container:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",overflowY:"scroll"}})(vt));function bt(){var e=Object(I.a)(["query Issues($assigned_to_id:String, $project_id:String) {\n    issues(assigned_to_id:$assigned_to_id,limit:500,project_id:$project_id){\n        id\n        assigned_to_name\n        subject\n        start_date\n        due_date\n        relations{\n            relation_type\n            issue_to_id\n        }\n        status{\n            id\n            name\n        }\n        project{\n            id\n            name\n        }\n    }\n} "]);return bt=function(){return e},e}var gt=F()(bt()),jt=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={issue:null},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"onSelect",value:function(e){this.setState({issue:e})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.selectIssueId,a=e.statusId,o=e.memberId,l=e.projectId,c=e.onClickItem,s=e.keyword;return console.log("selectIssueId:".concat(n)),r.a.createElement(i.Query,{query:gt,variables:{assigned_to_id:o,project_id:l}},function(e){var i=e.loading,o=e.error,l=e.data;if(i)return r.a.createElement("p",null,"Loading...");if(o)return r.a.createElement("p",null,"Error :(");var u=(l.issues||[]).filter(function(e){return!a||a===e.status.id}).filter(function(e){return!s||e.subject.indexOf(s)>0}).map(function(e){return Object(je.a)({},e,{subject:"".concat(e.subject,"[").concat(e.status.name,"]")})});return r.a.createElement("div",{className:t.card_container},r.a.createElement(Le,{data:u,onClickItem:c,selectIssueId:n}))})}}]),t}(a.Component);jt.defaultProps={};var Et=Object(c.b)(function(e){return{selectIssueId:e.viewSelect}})(Object(E.withStyles)({card_container:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",overflowY:"scroll"}})(jt)),Ot=n(82),_t=n.n(Ot),kt=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e,t){n.setState({value:t}),n.toggle(!1)},n.handleClose=function(){var e=!n.state.hidden;n.toggle(e)},n.state={value:0,hidden:!1},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"toggle",value:function(e){this.props.onClose&&this.props.onClose(e),this.setState({hidden:e})}},{key:"render",value:function(){var e=this.props,t=e.projectId,n=e.memberId,a=e.statusId,i=e.onClickItem,o=e.keyword,l=this.state.value;return r.a.createElement("div",{style:{display:"flex",flex:"0 0 1",flexDirection:"column"}},r.a.createElement("div",{style:{width:"100%",display:"flex",flex:"0 0 1",flexDirection:"row",justifyContent:"flex-end"}},r.a.createElement(Q.f,{value:l,onChange:this.handleChange},r.a.createElement(Q.e,{icon:r.a.createElement(at.c,null)}),r.a.createElement(Q.e,{icon:r.a.createElement(at.e,null)}),r.a.createElement(Q.e,{icon:r.a.createElement(at.d,null)})),r.a.createElement(_t.a,null,r.a.createElement(at.b,{onClick:this.handleClose}))),!this.state.hidden&&r.a.createElement("div",{style:{display:"flex",flex:"1 0 250px",overflowY:"scroll"}},r.a.createElement("div",{style:{width:"100%",height:"100%",overflowX:"scroll"}},0===l&&r.a.createElement(Et,{projectId:t,memberId:n,statusId:a,keyword:o,onClickItem:i}),1===l&&r.a.createElement(yt,{projectId:t,memberId:n,statusId:a,keyword:o,onClickItem:i}),2===l&&r.a.createElement(nt,{projectId:t,memberId:n,statusId:a,keyword:o,onClickItem:i}))))}}]),t}(a.Component),wt=n(10),xt=n(64),Ct=n.n(xt),St=function(e){function t(e){var n;Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={keyword:""},n.handleChange=function(e){return function(t){var a=t.target.value;n.setState(Object(wt.a)({},e,a)),n.filter(a)}};var a=n.props.onFilter;return n.filter=_e.a.debounce(function(e){console.log("debounce"),a(e)},200),n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Ct.a,{id:"outlined-name",label:"Keyword",className:e.textField,value:this.state.keyword,onChange:this.handleChange("keyword"),margin:"normal",variant:"outlined"})}}]),t}(r.a.Component),It=Object(E.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:16},menu:{width:200}}})(St),Dt=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).onClose1=function(e){n.setState({hidden1:e})},n.onKeywordFilter=function(e){console.log("onKeywordFilter:".concat(e)),n.setState({keyword:e})},n.showIssueDetail=function(e){var t=n.props.select,a=n.state.issue;a&&e&&a.id===e.id?n.dialog&&n.dialog.show(e):(t(e.id),n.setState({issue:e}))},n.onCloseDialog=function(){n.setState({issue:null})},n.state={filter:{},filter_project:{},issue:null,status:{},keyword:null,value:0,hidden1:!1},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"onProjectFilter",value:function(e){e&&e.length?this.setState({filter_project:e[0]}):this.setState({filter_project:{}}),this.forceUpdate()}},{key:"onFilter",value:function(e){e&&e.length?this.setState({filter:e[0]}):this.setState({filter:{}}),this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.props,n=(t.classes,t.select,this.state),a=(n.value,n.keyword),i=(this.state.filter||{}).id,o=(this.state.filter_project||{}).id,l=(this.state.status||{}).id;return r.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row"}},r.a.createElement("div",null,r.a.createElement(st,{onFilter:function(t){return e.onProjectFilter(t)}}),r.a.createElement(lt,{onFilter:function(t){return e.onFilter(t)}}),r.a.createElement(ft,{onFilter:function(t){return e.onStatusFilter(t)}})),r.a.createElement("div",{style:{flex:1,minWidth:0}},r.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start"}},r.a.createElement(It,{onFilter:this.onKeywordFilter})),r.a.createElement("div",{style:{width:"100%",height:this.state.hidden1?"auto":"50%",overflowX:"scroll"}},r.a.createElement(kt,{projectId:o,memberId:i,statusId:l,keyword:a,onClickItem:this.showIssueDetail,onClose:this.onClose1})),r.a.createElement("div",{style:{width:"100%",height:"50%",overflowX:"scroll"}},r.a.createElement(kt,{projectId:o,memberId:i,statusId:l,keyword:a,onClickItem:this.showIssueDetail}))),r.a.createElement(Ze,{ref:function(t){return e.dialog=t},onClose:this.onCloseDialog}))}},{key:"onStatusFilter",value:function(e){e&&e.length>0?this.setState({status:e[0]}):this.setState({status:{}}),this.forceUpdate()}},{key:"handleChange",value:function(e,t){this.setState({value:t})}}]),t}(a.Component),Ft=Object(c.b)(function(){return{}},function(e){return{select:function(t){e({type:"SELECT",payload:t})}}})(Object(E.withStyles)({card_container:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",overflowY:"scroll"}})(Dt)),Yt=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){return function(t){n.setState(Object(wt.a)({},e,t.target.value))}},n.handleTap=function(e){var t=n.state,a=t.api_host,r=t.api_key;u.authenticate(a,r),n.setState({t:"t"})},n.state={api_host:"",api_key:""},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=u.getAuth(),t=e.api_host;e.api_key;this.setState({api_host:t})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"start"}},r.a.createElement(Ct.a,{label:"api_host",className:e.textField,style:{width:"100%"},onChange:this.handleChange("api_host"),margin:"normal",value:this.state.api_host}),r.a.createElement(Ct.a,{label:"api_key",margin:"normal",value:this.state.api_key,className:e.textField,style:{width:"100%"},onChange:this.handleChange("api_key")}),r.a.createElement(j.a,{variant:"contained",color:"primary",className:e.button,onClick:this.handleTap},"Login"))}}]),t}(a.Component),Tt=Object(E.withStyles)(function(e){return{button:{margin:e.spacing.unit},input:{display:"none"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200}}})(Yt),Nt=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){u.signout()}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(a.Component),Rt=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.b,Object.assign({},this.props,{to:this.props.to}))}}]),t}(r.a.Component),$t=n(216),qt=n(5670),At=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=Object($t.a)(e,["component"]),a=t;return r.a.createElement(S.a,Object.assign({},n,{render:function(e){return u.isAuthenticated()?r.a.createElement(a,e):r.a.createElement(qt.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}}]),t}(r.a.Component);function Lt(){var e=Object(I.a)(["query Status ($projectId:String!){\n    projects(id:$projectId){\n        memberships{\n            user {\n                id\n                name:firstname\n                mail\n            }\n        }\n\n    }\n} "]);return Lt=function(){return e},e}var Wt=F()(Lt()),Mt=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.projectId;return r.a.createElement("div",{style:{display:"flex",flex:"0 0 250px",overflowY:"scroll",minHeight:0}},r.a.createElement(i.Query,{query:Wt,variables:{projectId:t}},function(t){var n=t.loading,a=t.error,i=t.data;if(n)return r.a.createElement("p",null,"Loading...");if(a)return r.a.createElement("p",null,"Error :(");var o=i.projects,l={memberships:[]};o&&o.length>0&&(l=o[0]);var c=(l.memberships||[]).filter(function(e){return!!e.user&&!!e.user.id}).map(function(e){return e.user});return r.a.createElement(pe,{mode:"single",data:c||[],onFilter:e.props.onFilter.bind(e)})}))}}]),t}(r.a.Component),Pt=Object(E.withStyles)(function(e){return{root:{width:"100%",maxWidth:200,backgroundColor:e.palette.background.paper,overflowY:"scroll"},listItem:{}}})(Mt);function Bt(){var e=Object(I.a)(["\n          query Status {\n            issue_statuses {\n              id\n              name\n            }\n          }\n        "]);return Bt=function(){return e},e}var Ht=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={filter:"",issue:null},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"onFilter",value:function(e){e&&e.length?this.setState({filter:e[0].id}):this.setState({filter:null})}},{key:"render",value:function(){var e=this,t=this.props.match.params.projectId;return r.a.createElement("div",{style:{flex:1,display:"flex"}},r.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{display:"flex",flex:"0 0 250px",overflowY:"scroll"}},r.a.createElement(Pt,{projectId:t,onFilter:function(t){return e.onFilter(t)}})),r.a.createElement("div",{style:{flex:1,minWidth:0}},r.a.createElement("div",{style:{width:"100%",height:"100%",overflowX:"scroll"}},r.a.createElement(i.Query,{query:F()(Bt())},function(n){var a=n.loading,i=n.error,o=n.data;if(a)return r.a.createElement("p",null,"Loading...");if(i)return r.a.createElement("p",null,"Error :(");var l=o.issue_statuses;return r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement("div",{style:{width:"100%",height:"100%",overflowY:"scroll",display:"flex",flexDirection:"row",justifyContent:"space-between"}},l.map(function(n){return r.a.createElement(se,{project_id:t,assigned_to_id:e.state.filter,status:n,key:n.id,data:[],onClickItem:function(t){return e.setState({issue:t})}})})))})))),r.a.createElement(Ze,{data:this.state.issue}))}}]),t}(a.Component),Qt=Object(E.withStyles)({appBar:{position:"relative"},flex:{flex:1}})(Ht);function Ut(){var e=Object(I.a)(["query ProjectGantt($id: String!,$assigned_to_id:String) {\n    projects(id:$id,limit:1000) {\n        id\n        name\n        description\n        issues(assigned_to_id:$assigned_to_id){\n            id\n            assigned_to_name\n            subject\n            start_date\n            due_date\n            relations{\n                relation_type\n                issue_to_id\n            }\n        }\n    }\n}"]);return Ut=function(){return e},e}var Jt=F()(Ut()),zt=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).issues=[],n.state={data:[],filter:[],issue:{},issues:[]},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.projectId;return r.a.createElement("div",{style:{flex:1,display:"flex"}},r.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"row",width:"100%"}},r.a.createElement(Pt,{projectId:t,onFilter:function(t){return e.onFilter(t)}}),r.a.createElement(i.Query,{query:Jt,variables:{id:t,assigned_to_id:(this.state.filter||{}).id}},function(t){var n=t.loading,a=t.error,i=t.data;if(n)return r.a.createElement("p",null,"Loading...");if(a)return r.a.createElement("p",null,"Error :(");var o=i.projects[0].issues;return e.issues=o,r.a.createElement("div",{style:{height:"100%",width:"100%",overflowY:"scroll"}},r.a.createElement(xe,{data:o,onSelect:function(t){return e.onSelect(t)}}))}),r.a.createElement(H,{data:this.state.issue,issues:this.state.issues})))}},{key:"onSelect",value:function(e){this.setState({issue:e,issues:this.issues})}},{key:"onFilter",value:function(e){e&&e.length>0?this.setState({filter:e[0]}):this.setState({filter:null}),this.forceUpdate()}}]),t}(a.Component);function Gt(){var e=Object(I.a)(["query Status {\n    issue_statuses {\n        id\n        name\n    }\n}\n                        "]);return Gt=function(){return e},e}function Xt(){var e=Object(I.a)(["query ProjectHomeGantt($id: String!,$assigned_to_id:String) {\n    projects(id:$id,limit:1000) {\n        id\n        name\n        description\n        issues(assigned_to_id:$assigned_to_id){\n            id\n            assigned_to_name\n            subject\n            start_date\n            due_date\n            relations{\n                relation_type\n                issue_to_id\n            }\n        }\n    }\n}"]);return Xt=function(){return e},e}var Kt=F()(Xt()),Vt=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={filter:"",issue:null},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"onFilter",value:function(e){e&&e.length?this.setState({filter:e[0].id}):this.setState({filter:null})}},{key:"onSelect",value:function(e){this.setState({issue:e})}},{key:"render",value:function(){var e=this,t=this.props.match.params.projectId;return r.a.createElement("div",{style:{flex:1,display:"flex"}},r.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{display:"flex",flex:"0 0 250px",overflowY:"scroll"}},r.a.createElement(Pt,{projectId:t,onFilter:function(t){return e.onFilter(t)}})),r.a.createElement("div",{style:{flex:1,minWidth:0}},r.a.createElement("div",{style:{width:"100%",height:"50%",overflowX:"scroll"}},r.a.createElement(i.Query,{query:Kt,variables:{id:t,assigned_to_id:this.state.filter}},function(t){var n=t.loading,a=t.error,i=t.data;if(n)return r.a.createElement("p",null,"Loading...");if(a)return r.a.createElement("p",null,"Error :(");var o=i.projects[0].issues;return r.a.createElement(xe,{data:o,onSelect:function(t){return e.onSelect(t)}})})),r.a.createElement("div",{style:{width:"100%",height:"50%",overflowX:"scroll"}},r.a.createElement(i.Query,{query:F()(Gt())},function(n){var a=n.loading,i=n.error,o=n.data;if(a)return r.a.createElement("p",null,"Loading...");if(i)return r.a.createElement("p",null,"Error :(");var l=o.issue_statuses;return r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement("div",{style:{width:"100%",height:"100%",overflowY:"scroll",display:"flex",flexDirection:"row",justifyContent:"space-between"}},l.map(function(n){return r.a.createElement(se,{project_id:t,assigned_to_id:e.state.filter,status:n,key:n.id,data:[],onClickItem:function(t){return e.setState({issue:t})}})})))})))),r.a.createElement(Ze,{data:this.state.issue}))}}]),t}(a.Component),Zt=Object(E.withStyles)({appBar:{position:"relative"},flex:{flex:1}})(Vt);function en(){var e=Object(I.a)(["query Project($id: String!) {\n    projects(id:$id) {\n        id\n        name\n        description\n    }\n}\n"]);return en=function(){return e},e}var tn=F()(en()),nn=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.match,t=e.params.projectId;return r.a.createElement("div",{style:{height:"100%",minHeight:0,display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center"}},r.a.createElement(i.Query,{query:tn,variables:{id:t}},function(e){var t=e.loading,n=e.error,a=e.data;if(t)return r.a.createElement("p",null,"Loading...");if(n)return r.a.createElement("p",null,"Error :(");var i=(a.projects||[])[0]||{},o=i.id,l=i.name,c=i.description;return r.a.createElement("h1",{title:c},o,":",l)}),r.a.createElement("div",null,r.a.createElement(Rt,{size:"small",component:C.a,to:"/project/".concat(t,"/home")},"Home"),r.a.createElement(Rt,{size:"small",component:C.a,to:"/project/".concat(t,"/gantt")},"Gantt"),r.a.createElement(Rt,{size:"small",component:C.a,to:"/project/".concat(t,"/agile")},"Agile"))),r.a.createElement(At,{path:"/project/:projectId/home",match:e,component:Zt}),r.a.createElement(At,{path:"/project/:projectId/gantt",match:e,component:zt}),r.a.createElement(At,{path:"/project/:projectId/agile",match:e,component:Qt}))}}]),t}(a.Component),an=n(54),rn=n.n(an),on=n(209),ln=n.n(on),cn=n(211),sn=n.n(cn),un=n(210),dn=n.n(un),pn=n(110),fn=n.n(pn),mn=Object(E.withStyles)({card_container:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",overflowY:"scroll",minHeight:0,height:"100%"},card:{width:300,margin:10,justifyContent:"space-between",display:"flex",flexDirection:"column"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{marginBottom:16,fontSize:14},pos:{marginBottom:12}})(function(e){var t=e.classes,n=e.data;return r.a.createElement("div",{className:t.card_container},n.map(function(e){return r.a.createElement(ln.a,{key:e.id,className:t.card},r.a.createElement(dn.a,null,r.a.createElement(fn.a,{variant:"headline",component:"h2"},e.id,":",e.name),r.a.createElement(fn.a,{component:"p"},e.description)),r.a.createElement(sn.a,null,r.a.createElement(rn.a,Object.assign({size:"small",component:C.a},{to:"/project/".concat(e.id)}),"Detail"),r.a.createElement(rn.a,Object.assign({size:"small",component:C.a},{to:"/project/".concat(e.id,"/gantt")}),"Gantt"),r.a.createElement(rn.a,Object.assign({size:"small",component:C.a},{to:"/project/".concat(e.id,"/agile")}),"Agile")))}))}),hn=n(212),vn=Object(E.withStyles)({card_container:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",overflowY:"scroll",minHeight:0,height:"100%"},card:{width:300,margin:10},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{marginBottom:16,fontSize:14},pos:{marginBottom:12}})(function(e){var t=e.classes,n=e.data;return r.a.createElement("div",{className:t.card_container},r.a.createElement(J.a,{component:"nav"},n.map(function(e){var t=e.id,n=e.name,a=e.description;return r.a.createElement(G.a,{key:t,button:!0},r.a.createElement(K.a,{primary:"".concat(t,":").concat(n),secondary:"".concat(a)}),r.a.createElement(hn.a,null,r.a.createElement(rn.a,Object.assign({size:"small",component:C.a},{to:"/project/".concat(t)}),"Detail"),r.a.createElement(rn.a,Object.assign({size:"small",component:C.a},{to:"/project/".concat(t,"/gantt")}),"Gantt"),r.a.createElement(rn.a,Object.assign({size:"small",component:C.a},{to:"/project/".concat(t,"/agile")}),"Agile")))})))});function yn(){var e=Object(I.a)(["\n          {\n            projects {\n              id\n              name\n              description\n            }\n          }\n        "]);return yn=function(){return e},e}var bn=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={mode:"list"},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;this.props.classes;return r.a.createElement("div",{style:{height:"100%",minHeight:0,display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(L.a,{variant:"contained",color:"list"===this.state.mode?"primary":"default",onClick:function(t){return e.setState({mode:"list"})}},"List"),r.a.createElement(L.a,{variant:"contained",color:"grid"===this.state.mode?"primary":"default",onClick:function(t){return e.setState({mode:"grid"})}},"Grid")),r.a.createElement(i.Query,{query:F()(yn())},function(t){var n=t.loading,a=t.error,i=t.data;if(n)return r.a.createElement("p",null,"Loading...");if(a)return r.a.createElement("p",null,"Error :(");var o=_e.a.orderBy(i.projects||[],["id"]);return"grid"===e.state.mode?r.a.createElement(mn,{data:o}):r.a.createElement(vn,{data:o})}))}}]),t}(a.Component),gn=Object(E.withStyles)({card_container:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",overflowY:"scroll"},card:{width:300,margin:10},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{marginBottom:16,fontSize:14},pos:{marginBottom:12}})(bn),jn=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"http://118.190.32.118:32768/graphql"}))}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(x.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(b.a,{position:"static"},r.a.createElement(_.a,null,r.a.createElement(w.a,{variant:"title",color:"inherit",className:e.flex},"xRedmine"),r.a.createElement("ul",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",flex:1}},r.a.createElement("li",null,r.a.createElement(C.a,{to:"/"},"Issues")),r.a.createElement("li",null,r.a.createElement(C.a,{to:"/projects"},"Projects")),r.a.createElement("li",null,r.a.createElement(C.a,{to:"/gantt"},"Gantt")),r.a.createElement("li",null,r.a.createElement(C.a,{to:"/agile"},"Agile"))),u.isAuthenticated()?r.a.createElement(j.a,Object.assign({color:"inherit",component:C.a},{to:"/logout"}),"Logout"):r.a.createElement(j.a,Object.assign({color:"inherit",component:C.a},{to:"/login"}),"Login"))),r.a.createElement("div",{style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"}},r.a.createElement(S.a,{exact:!0,path:"/",component:Ft}),r.a.createElement(At,{path:"/projects",component:gn}),r.a.createElement(At,{path:"/issue/:id",component:$e}),r.a.createElement(At,{path:"/gantt",component:Ne}),r.a.createElement(At,{path:"/agile",component:ge}),r.a.createElement(At,{path:"/project/:projectId",component:nn}),r.a.createElement(S.a,{path:"/login",component:Tt}),r.a.createElement(S.a,{path:"/logout",component:Nt}))))}}]),t}(a.Component),En=Object(E.withStyles)({root:{flexGrow:1},flex:{},menuButton:{marginLeft:-12,marginRight:20}})(jn),On=(n(5656),n(73)),_n=n(214);var kn=Object(On.combineReducers)({recentMember:function(e,t){switch(t.type){case"RECENT_MEMBER":return t.payload?Object(je.a)({},e,{list:[t.payload].concat(Object(ue.a)(_e.a.filter(e.list,function(e){return e.id!==t.payload.id}))).slice(0,5)}):e;default:return e||{list:[]}}},recentProject:function(e,t){switch(t.type){case"RECENT_PROJECT":return t.payload?Object(je.a)({},e,{recent_project_list:[t.payload].concat(Object(ue.a)(_e.a.filter(e.recent_project_list,function(e){return e.id!==t.payload.id}))).slice(0,5)}):e;default:return e||{recent_project_list:[]}}},recentStatus:function(e,t){switch(t.type){case"RECENT_STATUS":return t.payload?Object(je.a)({},e,{list:[t.payload].concat(Object(ue.a)(_e.a.filter(e.list,function(e){return e.id!==t.payload.id}))).slice(0,5)}):e;default:return e||{list:[]}}},viewSelect:function(e,t){switch(t.type){case"SELECT":return t.payload||null;default:return e||null}}}),wn=function(){try{var e=localStorage.getItem("store");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),xn=Object(_n.devToolsEnhancer)({}),Cn=Object(On.createStore)(kn,wn,xn);Cn.subscribe(function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("store",t)}catch(n){}}(Cn.getState())});var Sn=Cn,In=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Dn(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Fn=r.a.createElement(i.ApolloProvider,{store:Sn,client:d},r.a.createElement(c.a,{store:Sn},r.a.createElement(En,null)));l.a.render(Fn,document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");In?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Dn(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Dn(e)})}}()}},[[5504,2,1]]]);
//# sourceMappingURL=main.e0690d2e.chunk.js.map